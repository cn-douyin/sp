<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>â™ª æ¥µé™â¬†ä»£å„² | ğŸ’ å……å€¼è©¦ç®—</title>
    <style>
        /* --- åŸºç¤è¨­å®š --- */
        :root {
            --bg-color: #0f1115;
            --card-bg: rgba(30, 34, 40, 0.8);
            --gold-primary: #d4af37;
            --gold-gradient: linear-gradient(135deg, #bf953f, #fcf6ba, #b38728, #fbf5b7, #aa771c);
            --text-gray: #a0a0a0;
            --danger: #ff4d4d;
        }

        body {
            font-family: 'Helvetica Neue', Arial, sans-serif;
            background-color: var(--bg-color);
            background-image: radial-gradient(circle at 50% 10%, #2a2f3a 0%, #0f1115 70%);
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }

        /* --- ä¸»å¡ç‰‡è¨­è¨ˆ --- */
        .calculator-card {
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 40px;
            width: 100%;
            max-width: 450px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        /* é‡‘è‰²å…‰æ¾¤é‚Šæ¡†è£é£¾ */
        .calculator-card::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; height: 3px;
            background: var(--gold-gradient);
        }

        h1 {
            font-weight: 300;
            margin-bottom: 10px;
            letter-spacing: 2px;
            text-transform: uppercase;
            font-size: 1.5rem;
        }

        .subtitle {
            color: var(--text-gray);
            font-size: 0.9rem;
            margin-bottom: 30px;
            font-weight: 300;
        }

        /* --- åˆ‡æ›é–‹é—œ (Switch) --- */
        .mode-switch {
            display: flex;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 12px;
            padding: 5px;
            margin-bottom: 30px;
            position: relative;
        }

        .mode-btn {
            flex: 1;
            padding: 12px;
            border: none;
            background: transparent;
            color: var(--text-gray);
            cursor: pointer;
            border-radius: 8px;
            font-size: 0.95rem;
            transition: all 0.3s ease;
            z-index: 2;
        }

        .mode-btn.active {
            color: #1a1a1a;
            font-weight: bold;
            background: var(--gold-gradient);
            box-shadow: 0 4px 15px rgba(212, 175, 55, 0.3);
        }

        
        /* --- æ¨¡å¼æ¨™é¡Œå¼·åŒ– (åƒ…å½±éŸ¿ã€Œå„ªæƒ æ™‚æ®µ/éå„ªæƒ æ™‚æ®µã€æ–‡å­—) --- */
        .mode-title {
            display: block;
            font-size: 1.2rem;
            font-weight: 700;
            letter-spacing: 1px;
            line-height: 1.1;
            margin-bottom: 6px;
            color: inherit;
        }

        .mode-btn:not(.active) .mode-title {
            color: rgba(255, 255, 255, 0.88);
        }

        .mode-btn.active .mode-title {
            text-shadow: 0 1px 0 rgba(255, 255, 255, 0.35), 0 10px 25px rgba(212, 175, 55, 0.35);
        }
/* --- è¼¸å…¥å€å¡Š --- */
        .input-group {
            margin-bottom: 25px;
            text-align: left;
        }

        .input-label {
            display: block;
            color: var(--gold-primary);
            font-size: 0.85rem;
            margin-bottom: 8px;
            letter-spacing: 1px;
        }

        input[type="number"] {
            width: 100%;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
            color: white;
            font-size: 1.2rem;
            box-sizing: border-box;
            outline: none;
            transition: border-color 0.3s;
        }

        input[type="number"]:focus {
            border-color: var(--gold-primary);
        }

        .hint {
            font-size: 0.8rem;
            color: var(--text-gray);
            margin-top: 8px;
            display: flex;
            justify-content: space-between;
        }

        .error-msg {
            color: var(--danger);
            display: none; /* é è¨­éš±è— */
        }

        /* --- çµæœé¡¯ç¤ºå€ --- */
        .result-area {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 15px;
            padding: 25px;
            margin-top: 20px;
            border: 1px solid rgba(212, 175, 55, 0.1);
        }

        .result-label {
            color: var(--text-gray);
            font-size: 0.9rem;
            margin-bottom: 5px;
        }

        .price-display {
            font-size: 2.5rem;
            font-weight: bold;
            background: var(--gold-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin: 10px 0;
        }

        .unit {
            font-size: 1rem;
            color: var(--gold-primary);
            -webkit-text-fill-color: initial;
        }

        /* --- é å°¾ --- */
        .footer {
            margin-top: 30px;
            font-size: 0.75rem;
            color: rgba(255, 255, 255, 0.2);
        }

        /* RWD æ‰‹æ©Ÿé©é… */
        @media (max-width: 480px) {
            .calculator-card {
                padding: 25px;
            }
            .price-display {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>

    <div class="calculator-card">
        <h1> ğŸ’ é™¸ç‰ˆæŠ–éŸ³â™ª | æ¥µé™â¬†ä»£å„² ğŸš€ğŸš€ğŸš€</h1>
        <div class="subtitle">  </div>

        <div class="mode-switch">
            <button class="mode-btn active" onclick="setMode('promo')"><span class="mode-title">å„ªæƒ æ™‚æ®µ</span> <br>  13:00 ~ 17:00 <br> 20:00 ~ 23:00 </button>
            <button class="mode-btn" onclick="setMode('normal')"><span class="mode-title">éå„ªæƒ æ™‚æ®µ</span> <br>  17:00 ~ 20:00 <br> 23:00 ~ 13:00 </button>
        </div>

        <div class="input-group">
            <label class="input-label">è¼¸å…¥é‘½çŸ³æ•¸é‡ </label>
            <input type="number" id="diamondInput" placeholder="è«‹è¼¸å…¥æ•¸é‡" step="1000" oninput="calculate()">
            <div class="hint">
                <span id="minReqText">æœ€ä½èµ·å……ï¼š3,000 é‘½</span>
                <span id="rateText">æ¯”å€¼ï¼š470 TWD / 1k</span>
            </div>
            <div class="hint error-msg" id="errorMsg">ä½æ–¼èµ·å……é–€æª»</div>
            <div class="hint error-msg" id="unitErrorMsg">æ•¸é‡éœ€ç‚º 1000 çš„å€æ•¸</div>
        </div>

        <div class="result-area">
            <div class="result-label">é ä¼°é‡‘é¡</div>
            <div class="price-display">
                <span id="priceOutput">0</span> <span class="unit" id="twdUnit">TWD</span>
            </div>
        </div>

        <div class="footer">
            *å ±åƒ¹åƒ…ä¾›åƒè€ƒï¼Œå¯¦éš›äº¤æ˜“è«‹ä»¥ç•¶ä¸‹ç¢ºèªç‚ºæº– <br> 
 <br> ç‰ˆæœ¬ï¼š2026 / 01 / 12 
        </div>
    </div>

    <script>
        // è¨­å®šè®Šæ•¸
        let currentMode = 'promo'; // é è¨­ç‚ºå„ªæƒ æ™‚æ®µ
        const promoRate = 470 / 1000;
        const promoMin = 3000;
        
        const normalRate = 480 / 1000;
        const normalMin = 10000;

        // DOM å…ƒç´ 
        const diamondInput = document.getElementById('diamondInput');
        const priceOutput = document.getElementById('priceOutput');
        const minReqText = document.getElementById('minReqText');
        const rateText = document.getElementById('rateText');
        const errorMsg = document.getElementById('errorMsg');
        const unitErrorMsg = document.getElementById('unitErrorMsg');
        const twdUnit = document.getElementById('twdUnit');
        const buttons = document.querySelectorAll('.mode-btn');

        // åˆ‡æ›æ¨¡å¼å‡½æ•¸
        function setMode(mode) {
            currentMode = mode;
            
            // æ›´æ–°æŒ‰éˆ•æ¨£å¼
            buttons.forEach(btn => btn.classList.remove('active'));
            if (mode === 'promo') {
                buttons[0].classList.add('active');
                minReqText.innerText = `æœ€ä½èµ·å……ï¼š${promoMin.toLocaleString()} é‘½`;
                rateText.innerText = `æ¯”å€¼ï¼š470 TWD / 1k`;
            } else {
                buttons[1].classList.add('active');
                minReqText.innerText = `æœ€ä½èµ·å……ï¼š${normalMin.toLocaleString()} é‘½`;
                rateText.innerText = `æ¯”å€¼ï¼š480 TWD / 1k`;
            }

            // é‡æ–°è¨ˆç®—
            calculate();
        }

        // è¨ˆç®—å‡½æ•¸
        function calculate() {
            const amount = parseFloat(diamondInput.value);

            // å¦‚æœè¼¸å…¥æ¡†æ˜¯ç©ºçš„
            if (isNaN(amount) || amount <= 0) {
                priceOutput.innerText = "0";
                errorMsg.style.display = 'none';
                unitErrorMsg.style.display = 'none';
                twdUnit.style.display = '';
                return;
            }

            // é™å®šä»¥ 1000 ç‚ºä¸€å€‹å–®ä½ï¼ˆå¿…é ˆæ˜¯ 1000 çš„å€æ•¸ï¼‰
            if (amount % 1000 !== 0) {
                unitErrorMsg.style.display = 'block';
                errorMsg.style.display = 'none';
                priceOutput.innerText = "0";
                twdUnit.style.display = '';
                return;
            } else {
                unitErrorMsg.style.display = 'none';
            }

            let price = 0;
            let minRequirement = 0;

            if (currentMode === 'promo') {
                minRequirement = promoMin;
                price = amount * promoRate;
            } else {
                minRequirement = normalMin;
                price = amount * normalRate;
            }

            // æª¢æŸ¥æ˜¯å¦ç¬¦åˆæœ€ä½æ•¸é‡
            if (amount < minRequirement) {
                errorMsg.style.display = 'block';
                priceOutput.innerText = "æœªé”èµ·å……é–€æª»";
                twdUnit.style.display = 'none';
                return;
            } else {
                errorMsg.style.display = 'none';
                twdUnit.style.display = '';
            }

            // æ ¼å¼åŒ–é‡‘é¡ (åŠ é€—è™Ÿ) ä¸¦é¡¯ç¤ºï¼Œå–æ•´æ•¸
            priceOutput.innerText = Math.floor(price).toLocaleString();
        }
    </script>
</body>
</html>
